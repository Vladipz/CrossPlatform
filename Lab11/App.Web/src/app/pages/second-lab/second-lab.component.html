<div style="margin-bottom: 20px">
  <h2>First Lab</h2>

  <div>
    - Ти брешеш, Колю! На Марсі життя немає! Хто тобі таку нісенітницю сказав? -
    Петя. А йому сказав Сашко. - Та від Петі я в житті правдивого слова не чув!
    Йому що не скажуть, він усе переверне. Та й Сашка звідки знати? - А Саші
    розповів про це Володимир Олексійович, наш учитель біології. - Ну,
    Володимиру Олексійовичу можна вірити... Тільки навряд чи він так сказав, це
    або Сашко, або Петя придумав. А може, це ти мене розігруєш? - Хвилинку,
    хлопці, - втрутився Гліб Тимофійович, який підійшов до вчителів математики,
    - давайте підійдемо до проблеми формально. Припустимо, що всі діалоги –
    Володимира Олексійовича з Сашком, Сашка з Петею та Петі з Колею – справді
    мали місце. Пронумеруємо хлопців числами 1, 2 і 3. Припустимо також, що
    кожен із хлопців незалежно один від одного передав отриману інформацію щодо
    життя на Марсі правильно з ймовірністю pi, а збрехав з ймовірністю qi = 1 -
    pi для i = 1, 2, 3. Імовірності - це речові числа від нуля до одиниці;
    подія, що має ймовірність 0, ніколи не відбудеться, подія ж з ймовірністю 1
    відбудеться без жодного сумніву. Знаючи, що Коля після цього оголосив, що
    життя на Марсі таки є, знайдіть за даними pi ймовірність того, що так дійсно
    сказав Володимир Олексійович. – А як шукати цю ймовірність? І що означає
    незалежно один від одного? - Розгубилися хлопці. - Незалежність означає, що
    дія одного з хлопців ніяк не відбивається на тому, як надійдуть інші.
    Наприклад, Пете неважливо, чи збрехав Сашко - у будь-якому випадку він
    передасть сказане Сашком правильно з ймовірністю рівно p2. Завдання
    нескладне, і можна розглянути всі вісім можливих випадків. Перший випадок –
    всі хлопці говорили правду, і ймовірність цього випадку дорівнює p1∙p2∙p3. В
    цьому випадку життя на Марсі, без сумніву, є – Володимиру Олексійовичу ми
    віримо, а хлопці передали його слова правильно. Другий випадок, коли збрехав
    лише Сашко, має місце з ймовірністю q1∙p2∙p3, і в цьому випадку життя на
    Марсі немає. Далі переберемо решту шести випадків, щоразу перемножуючи
    відповідні ймовірності, а потім підсумуємо ймовірності тих випадків, у яких
    слова вчителя передані правильно. Те, що ймовірності окремих хлопців у
    кожному разі треба перемножити - і є формальне визначення незалежності. Ну,
    у яких випадках буде передано саме те, що говорив Володимир Олексійович? - В
    одному … - А ось і ні. Наприклад, якщо Петя та Коля збрехали, а Сашко сказав
    правду, то істина, двічі спотворившись, дійде до нас у незмінному вигляді. І
    взагалі, парна кількість заперечень, застосованих до твердження, дає саме
    твердження. У нашій задачі випадків з парною кількістю заперечень - чотири,
    і підсумкова ймовірність дорівнює p1∙p2∙p3+q1∙q2∙p3+q1∙p2∙q3+p1∙q2∙q3. -
    Тобто якщо Петя і Коля точно збреше, а Сашко точно скаже правду, то від Коли
    ми почуємо точно те, що казав вчитель? - Абсолютно вірно. А тепер розв'яжіть
    завдання для загального випадку, коли хлопців не троє, а n. Першому, хто
    вирішить – п'ятірка на наступній контрольній!<br />
    Вхідниі дані містить ціле число n (1 ≤ n ≤ 100). У другому рядку через
    пропуск записані n дійсних чисел - це числа p1, p2, ..., pn (0 ≤ pi ≤ 1).
    Числа дані з не більше ніж шістьма десятковими знаками після коми.<br />
    Результат - одне речове число, округлене до шести знаків після коми -
    ймовірність існування життя на Марсі.<br /><br />
  </div>

  <form
    (ngSubmit)="onSubmit()"
    style="
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 100%;
      max-width: 500px;
    "
  >
    <label for="inputText" style="font-weight: bold"
      >Введіть вхідні дані:</label
    >
    <textarea
      id="inputText"
      [(ngModel)]="inputText"
      name="inputText"
      rows="6"
      style="padding: 10px; font-family: Arial, sans-serif; resize: vertical"
    ></textarea>
    <button
      type="submit"
      style="padding: 10px; font-size: 16px; font-weight: bold; cursor: pointer"
    >
      Виконати
    </button>
  </form>

  <div *ngIf="outputResult !== null" style="margin-top: 20px">
    <h3 style="font-weight: bold">Результат:</h3>
    <div
      style="
        width: 100%;
        max-width: 500px;
        padding: 10px;
        font-family: Arial, sans-serif;
      "
    >
      {{ outputResult }}
    </div>
  </div>
</div>
